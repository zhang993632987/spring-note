# 构建/部署模式

微服务架构的核心部分之一是，<mark style="color:orange;">**微服务的每个实例都应该和其他所有实例相同**</mark>。开发人员不能允许<mark style="color:blue;">**配置漂移**</mark>（某些东西在部署到服务器上之后会发生变化）出现，因为这可能会导致应用程序不稳定。

<mark style="color:blue;">**构建/部署模式**</mark>的目标是**将基础设施的配置集成到构建/部署过程中**，这样就不用再将软件制品（如Java WAR或EAR文件）部署到已经在运行的基础设施中了。相反，开发人员希望**在构建过程中构建和编译微服务并准备运行微服务的虚拟服务器镜像**，在部署微服务时，就能**部署服务器运行所需的整个机器镜像**。

### <mark style="color:blue;">**构建/部署管道**</mark>

如何创建一个可重复的构建/部署过程，只需一键即可构建/部署到组织中的任何环境。

### <mark style="color:blue;">**基础设施即代码**</mark>

如何将服务的供应作为可在源代码控制下执行和管理的代码去对待。

### <mark style="color:blue;">**不可变服务器**</mark>

一旦创建了微服务镜像，如何确保它在部署之后永远不会更改。

### <mark style="color:blue;">**凤凰服务器**</mark>（Phoenix server）

如何确保运行单个容器的服务器定期被拆卸，并从一个不可变的镜像重新创建。

服务器运行的时间越长，就越容易发生配置漂移。当对系统配置的临时更改未进行记录时，可能会发生配置漂移。

> <mark style="color:blue;">**使用这些模式和主题的目的是在配置漂移影响到你的上层环境（如交付准备环境或生产环境）之前，尽可能快地暴露并消除配置漂移。**</mark>
